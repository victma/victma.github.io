<!DOCTYPE html>
<html xmlns:fb="http://ogp.me/ns/fb#">
  <head>
    <meta charset="utf-8">
    <title>Serial Groover</title>
    <meta name="description" content="Don't stop the music! Let everyone at your party put a song in the
    queue, so there is always something playing, and everyone can enjoy their own &quot;best song ever
    &quot;." />
    <meta property="og:title" content="Serial Groover" />
    <meta property="og:url" content="http://vict.cml/serial-groover" />
    <meta property="og:image" content="http://vict.cml/serial-groover/assets/logoSerialGrooverOg.png" />
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="static/index.css" rel="stylesheet">
  </head>
  <body style="margin: 0">
    <header>
      <div>
        <img src="assets/logoSerialGroover.png" alt="logo" height="40px" id="logo">
        <img src="assets/titleSerialGroover.png" alt="Serial Groover" height="50px" id="title">
      </div>
      <div id="navlinks">
        <a href=# id="aboutbutton">About</a>
        <p>|</p>
        <a href="#" id="contactbutton">Contact us</a>
      </div>
    </header>
    <div id="app"></div>
    <div class="modal" id="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle"></h2>
          <span class="close" id="closeModal">&times;</span>
        </div>
        <div class="modal-body">
          <iframe id="modalIframe"></iframe>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="dist/app.min.js"></script>
    <script>
      var modal = document.getElementById('modal');
      var contactbtn = document.getElementById("contactbutton");
      var aboutbutton = document.getElementById("aboutbutton");
      var closeModal = document.getElementById("closeModal");
      var title = document.getElementById("modalTitle")
      var iframe = document.getElementById("modalIframe");

      function openContact() {
        title.innerHTML = "Drop us a line";
        iframe.src = "static/contact.html";
        modal.style.display = "block";
      }
      contactbtn.onclick = openContact;
      iframe.onload = () => {
        iframe.contentWindow.contactCallback = openContact;
      }
      function openAbout() {
        title.innerHTML = "About Serial Groover";
        iframe.src = "static/about.html";
        modal.style.display = "block";
      }
      aboutbutton.onclick = openAbout;
      closeModal.onclick = function() {
        modal.style.display = "none";
      }
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
      if(window.location.hash === "#contact") {
        openContact();
      } else if (window.location.hash === "#about") {
        openAbout();
      }
      window.location.hash = "";
    </script>
  </body>
</html>
